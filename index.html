<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Disappearing Text Writer</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            font-size: 14px;
            background-color: #ffffff;
            color: #000000;
            margin: 20px;
            line-height: 1.4;
        }

        h1 {
            font-size: 24px;
            font-weight: bold;
            text-align: center;
            margin: 10px 0;
            color: #000080;
        }

        .subtitle {
            text-align: center;
            font-size: 12px;
            color: #666666;
            margin-bottom: 20px;
            font-style: italic;
        }

        table {
            width: 100%;
            max-width: 600px;
            margin: 0 auto;
            border-collapse: collapse;
        }

        .controls {
            text-align: center;
            margin: 15px 0;
            padding: 10px;
            border: 1px solid #cccccc;
            background-color: #f0f0f0;
        }

        .controls label {
            font-weight: bold;
        }

        .controls input {
            margin: 0 5px;
            padding: 2px;
            border: 1px solid #999999;
            width: 50px;
        }

        .timer {
            font-weight: bold;
            font-size: 16px;
            margin: 0 15px;
        }

        .timer-safe { color: #008000; }
        .timer-warning { color: #ff8800; }
        .timer-danger { 
            color: #ff0000; 
            text-decoration: blink;
        }

        .reset-btn {
            background-color: #cccccc;
            border: 2px outset #cccccc;
            padding: 4px 8px;
            font-size: 12px;
            cursor: pointer;
            margin-left: 10px;
        }

        .reset-btn:active {
            border: 2px inset #cccccc;
        }

        #textInput {
            width: 100%;
            height: 300px;
            border: 2px inset #cccccc;
            padding: 5px;
            font-family: "Courier New", monospace;
            font-size: 14px;
            background-color: #ffffff;
            resize: none;
        }

        #textInput:focus {
            background-color: #ffffcc;
        }

        .stats {
            margin-top: 10px;
            padding: 5px;
            border: 1px solid #cccccc;
            background-color: #f8f8f8;
            font-size: 12px;
            text-align: center;
        }

        .warning {
            background-color: #ffcccc !important;
        }

        hr {
            margin: 20px 0;
            border: 0;
            border-top: 1px solid #cccccc;
        }

        .footer {
            text-align: center;
            font-size: 11px;
            color: #666666;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <h1>Disappearing Text Writer</h1>
    <p class="subtitle">Keep typing or lose it all!</p>
    
    <table>
        <tr>
            <td>
                <div class="controls">
                    <label for="timeoutInput">Timeout:</label>
                    <input type="number" id="timeoutInput" value="15" min="5" max="300">
                    <label>seconds</label>
                    
                    <span class="timer timer-safe" id="timerDisplay">Ready</span>
                    
                    <button class="reset-btn" onclick="resetText()">Reset</button>
                </div>
                
                <textarea 
                    id="textInput" 
                    placeholder="Start typing here... Don't stop or your text will disappear!"
                ></textarea>
                
                <div class="stats" id="stats">
                    Characters: <strong id="charCount">0</strong> | 
                    Words: <strong id="wordCount">0</strong> | 
                    Lines: <strong id="lineCount">1</strong>
                </div>
            </td>
        </tr>
    </table>

    <hr>
    <div class="footer">
        <em>A simple tool for focused writing. No distractions, no going back.</em>
    </div>

    <script>
        var textInput = document.getElementById('textInput');
        var timerDisplay = document.getElementById('timerDisplay');
        var timeoutInput = document.getElementById('timeoutInput');
        var charCount = document.getElementById('charCount');
        var wordCount = document.getElementById('wordCount');
        var lineCount = document.getElementById('lineCount');
        var stats = document.getElementById('stats');
        
        var countdownTimer = null;
        var timeLeft = 0;
        var isActive = false;

        function updateStats() {
            var text = textInput.value;
            var chars = text.length;
            var words = text.trim() === '' ? 0 : text.trim().split(/\s+/).length;
            var lines = text.split('\n').length;
            
            charCount.textContent = chars;
            wordCount.textContent = words;
            lineCount.textContent = lines;
        }

        function resetTimer() {
            stopTimer();
            timeLeft = parseInt(timeoutInput.value);
            isActive = true;
            startCountdown();
        }

        function startCountdown() {
            updateTimerDisplay();
            
            countdownTimer = setInterval(function() {
                timeLeft--;
                updateTimerDisplay();
                
                if (timeLeft <= 0) {
                    clearText();
                }
            }, 1000);
        }

        function stopTimer() {
            if (countdownTimer) {
                clearInterval(countdownTimer);
                countdownTimer = null;
            }
            isActive = false;
            timerDisplay.textContent = 'Ready';
            timerDisplay.className = 'timer timer-safe';
            document.body.className = '';
        }

        function updateTimerDisplay() {
            var totalTime = parseInt(timeoutInput.value);
            var percentage = (timeLeft / totalTime) * 100;
            
            timerDisplay.textContent = timeLeft + 's';
            
            timerDisplay.className = 'timer';
            if (percentage > 50) {
                timerDisplay.className += ' timer-safe';
                document.body.className = '';
            } else if (percentage > 20) {
                timerDisplay.className += ' timer-warning';
                document.body.className = '';
            } else {
                timerDisplay.className += ' timer-danger';
                document.body.className = 'warning';
            }
        }

        function clearText() {
            textInput.value = '';
            stopTimer();
            updateStats();
            alert('Time\'s up! Your text has been cleared.');
        }

        function resetText() {
            if (confirm('Clear all text?')) {
                textInput.value = '';
                stopTimer();
                updateStats();
            }
        }

        // Event listeners
        textInput.addEventListener('input', function() {
            resetTimer();
            updateStats();
        });

        textInput.addEventListener('keydown', function() {
            resetTimer();
        });

        textInput.addEventListener('focus', function() {
            if (textInput.value.length > 0) {
                resetTimer();
            }
        });

        textInput.addEventListener('blur', function() {
            stopTimer();
        });

        timeoutInput.addEventListener('change', function() {
            if (isActive) {
                resetTimer();
            }
        });

        // Initialize
        updateStats();
        textInput.focus();
    </script>
</body>
</html>
